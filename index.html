<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TWIG Email Generator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        label { display: block; margin-top: 10px; }
        textarea, input, select { width: 100%; padding: 8px; margin-top: 5px; }
        button { margin-top: 10px; padding: 10px; background-color: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #45a049; }
        pre { background: #f4f4f4; padding: 10px; border: 1px solid #ddd; }
    </style>
</head>
<body>
    <h2>TWIG Email Generator with Progress Bar</h2>
    <form id="twigForm">
        <label for="salutation">Set Salutation:</label>
        <textarea id="salutation"></textarea>
        
        <label for="badgeName">Set Badge Name:</label>
        <input type="text" id="badgeName">
        
        <label for="badgeAwardNarrative">Set Badge Award Narrative:</label>
        <textarea id="badgeAwardNarrative"></textarea>
        
        <label for="badgeImage">Select Badge Image:</label>
        <select id="badgeImage">
			<option value="UC_SEAL_2C.png">UC_SEAL_2C</option>
            		<option value="KY Badges_1.0.B.png">KY Badges_1.0.B</option>
			<option value="KY Badges_1.0.png">KY Badges_1.0</option>
			<option value="KY Badges_1.1.B.png">KY Badges_1.1.B</option>
			<option value="KY Badges_1.1.png">KY Badges_1.1</option>
			<option value="KY Badges_1.2.B.png">KY Badges_1.2.B</option>
			<option value="KY Badges_1.2.png">KY Badges_1.2</option>
			<option value="KY Badges_1.2_Column 6.png">KY Badges_1.2_Column 6</option>
			<option value="KY Badges_1.2_Pillar 5.png">KY Badges_1.2_Pillar 5</option>
			<option value="KY Badges_1.3.png">KY Badges_1.3</option>
			<option value="KY Badges_1.4.png">KY Badges_1.4</option>
			<option value="KY Badges_2.0.png">KY Badges_2.0</option>
			<option value="KY Badges_2.1.A.png">KY Badges_2.1.A</option>
			<option value="KY Badges_2.1.B.png">KY Badges_2.1.B</option>
			<option value="KY Badges_2.2.A.png">KY Badges_2.2.A</option>
			<option value="KY Badges_2.2.B.png">KY Badges_2.2.B</option>
			<option value="KY Badges_2.3.A.png">KY Badges_2.3.A</option>
			<option value="KY Badges_2.3.B.png">KY Badges_2.3.B</option>
			<option value="KY Badges_2.4.png">KY Badges_2.4</option>
			<option value="KY Badges_2.5.png">KY Badges_2.5</option>
			<option value="KY Badges_2.6.png">KY Badges_2.6</option>
			<option value="KY Badges_2.7.png">KY Badges_2.7</option>
			<option value="KY Badges_2.8.png">KY Badges_2.8</option>
			<option value="KY Badges_3.0.png">KY Badges_3.0</option>
			<option value="KY Badges_3.1.A.png">KY Badges_3.1.A</option>
			<option value="KY Badges_3.1.B.png">KY Badges_3.1.B</option>
			<option value="KY Badges_3.2.png">KY Badges_3.2</option>
			<option value="KY Badges_3.3.png">KY Badges_3.3</option>
			<option value="KY Badges_3.4.png">KY Badges_3.4</option>
			<option value="KY Badges_3.5.png">KY Badges_3.5</option>
			<option value="KY Badges_3.6.png">KY Badges_3.6</option>
			<option value="KY Badges_3.7.png">KY Badges_3.7</option>
			<option value="KY Badges_3.8.png">KY Badges_3.8</option>


        </select>
        
        <label for="progressBar">Set Progress:</label>
        <textarea id="progressBar"></textarea>
		
		<label for="checklistNarrative">Set Checklist Narrative:</label>
        <textarea id="checklistNarrative"></textarea>
        
        <label for="checklist">Select Checklist Items:</label>
        <select id="checklist" multiple>
			<option value="UC MAT Participation|https://ky.opensalt.net/uri/2f7e588a-fdda-11ef-9f6a-0242ac1e0003|https://ky.opensalt.net/uri/2f7e588a-fdda-11ef-9f6a-0242ac1e0003">0.0 UC MAT Participation</option>
			<option value="Pillar IV - Acceptance|https://ky.opensalt.net/uri/ca69b4d2-e7e3-11ef-9b97-0242ac150003">1 Pillar IV - Acceptance</option>
			<option value="Application Acceptance|https://ky.opensalt.net/uri/fb9b0628-e7e3-11ef-976e-0242ac150003">1.1 Application Acceptance</option>
			<option value="Signed KY Code of Ethics|https://ky.opensalt.net/uri/26748cca-e7e4-11ef-b9a9-0242ac150003">1.2 Signed KY Code of Ethics</option>
			<option value="Signed Character and Fitness Form|https://ky.opensalt.net/uri/4684fcf2-e7e4-11ef-9b04-0242ac150003">1.3 Signed Character and Fitness Form</option>
			<option value="Background Check 1 Complete|https://ky.opensalt.net/uri/5b074b6a-e7e6-11ef-a070-0242ac150003">1.4 Background Check 1 Complete</option>
			<option value="Track A Satisfied Pillars V and VI|https://ky.opensalt.net/uri/ca047036-e84c-11ef-816b-0242ac1e0003">A Track A Satisfied Pillars V and VI</option>
			<option value="Pillar V Complete (A)|https://ky.opensalt.net/uri/59f4992e-e7ed-11ef-a035-0242ac150003">2.A Pillar V Complete (A)</option>
			<option value="Clinical I Complete (EDOL-520)|https://ky.opensalt.net/uri/90bf55da-e7ec-11ef-a87d-0242ac150003">2.A.1 Clinical I Complete (EDOL-520)</option>
			<option value="Clinical II Complete (EDOL-541)|https://ky.opensalt.net/uri/e02763c4-e7ec-11ef-99c5-0242ac150003">2.A.2 Clinical II Complete (EDOL-541)</option>
			<option value="Observation Hours Complete|https://ky.opensalt.net/uri/0f44a69e-e7ed-11ef-b32c-0242ac150003">2.A.3 Observation Hours Complete</option>
			<option value="Praxis II Content Satisfied|https://ky.opensalt.net/uri/e0427558-e7ef-11ef-9bd5-0242ac150003">2.A.4 Praxis II Content Satisfied</option>
			<option value="Favorable Disposition 1: Clinical I|https://ky.opensalt.net/uri/171d771c-e7f0-11ef-89f1-0242ac150003">2.A.5 Favorable Disposition 1: Clinical I</option>
			<option value="Favorable Disposition 2: Clinical II|https://ky.opensalt.net/uri/21cb2b1e-e7f0-11ef-8089-0242ac150003">2.A.6 Favorable Disposition 2: Clinical II</option>
			<option value="Signed KY Code of Ethics|https://ky.opensalt.net/uri/36f4f9fc-e7f0-11ef-b492-0242ac150003">1.2.V Signed KY Code of Ethics</option>
			<option value="Background Check 2 Complete|https://ky.opensalt.net/uri/517160a4-e7f0-11ef-9812-0242ac150003">2.A.7 Background Check 2 Complete</option>
			<option value="3.0 GPA for all Before Final Course|https://ky.opensalt.net/uri/64945a4c-e7f0-11ef-ab69-0242ac150003">2.A.8 3.0 GPA for all Before Final Course</option>
			<option value="Pillar VI Complete (A)|https://ky.opensalt.net/uri/18d79db4-e7f3-11ef-b033-0242ac150003">3.A Pillar VI Complete (A)</option>
			<option value="EDOL 698 Application Acceptance|https://ky.opensalt.net/uri/0b03fdc8-e84c-11ef-9cd6-0242ac1e0003">3.A.1 EDOL 698 Application Acceptance</option>
			<option value="Clinical III Complete (EDOL 698)|https://ky.opensalt.net/uri/201daede-e84c-11ef-b481-0242ac1e0003">3.A.2 Clinical III Complete (EDOL 698)</option>
			<option value="Favorable Disposition 3|https://ky.opensalt.net/uri/4be64bc0-e84c-11ef-afe9-0242ac1e0003">3.A.3 Favorable Disposition 3</option>
			<option value="Favorable Disposition 4|https://ky.opensalt.net/uri/543bbada-e84c-11ef-b507-0242ac1e0003">3.A.4 Favorable Disposition 4</option>
			<option value="Praxis II PLT Satisfied|https://ky.opensalt.net/uri/556d2b64-e84c-11ef-9f1c-0242ac1e0003">3.A.5 Praxis II PLT Satisfied</option>
			<option value="Clinical III ePortfolio Accepted|https://ky.opensalt.net/uri/56c5c520-e84c-11ef-8c71-0242ac1e0003">3.A.6 Clinical III ePortfolio Accepted</option>
			<option value="3.0 GPA with All Courses Complete|https://ky.opensalt.net/uri/57e30f9e-e84c-11ef-8ceb-0242ac1e0003">3.A.7 3.0 GPA with All Courses Complete</option>
			<option value="Graduation Application|https://ky.opensalt.net/uri/886b98ca-e84c-11ef-ac74-0242ac1e0003">3.A.8 Graduation Application</option>
			<option value="Recommendation for Professional Licensure|https://ky.opensalt.net/uri/b952d94e-e84c-11ef-adb6-0242ac1e0003">4 Recommendation for Professional Licensure</option>


        </select>
        
        <label for="closingStatement">Set Closing Statement:</label>
        <textarea id="closingStatement"></textarea>
        
        <button type="button" onclick="generateTwig()">Generate TWIG Code</button>
    </form>

    <h3>Generated TWIG Code:</h3>
    <pre id="twigOutput"></pre>
    <button onclick="copyToClipboard()">Copy Code</button>

    <script>
        function generateTwig() {
            const salutation = document.getElementById("salutation").value;
            const badgeName = document.getElementById("badgeName").value;
            const badgeAwardNarrative = document.getElementById("badgeAwardNarrative").value;
            const badgeImage = document.getElementById("badgeImage").value;
			const progressBar = document.getElementById("progressBar").value;
            const checklistNarrative = document.getElementById("checklistNarrative").value;
            const closingStatement = document.getElementById("closingStatement").value;
            const selectedChecklist = Array.from(document.getElementById("checklist").selectedOptions).map(option => {
                const [title, link] = option.value.split('|');
                return `{{ _self.achievementLine('${title}', '${link}' in context.credentialIds)}}`;
            }).join('\n\t');

            const twigTemplate = `
{%- set _salutation -%}
    ${salutation}, {{ subject.firstName }}!<br />
    Welcome to the UC Masters of Arts in Teaching Pathway.
{%- endset -%}

{%- set _badgeName = "${badgeName}" -%}

{%- set _badgeAwardNarrative -%}
    ${badgeAwardNarrative}
{%- endset -%}

{%- set _badgeImage -%}
    <img src="cid:${badgeImage}" width="100" />
{%- endset -%}

{%- set _progressBar -%}
	{{ _self.progressBar('Teacher Ready Progress', ${progressBar}) }}
{%- endset -%}

{%- set _checklistNarrative -%}
    ${checklistNarrative}
{%- endset -%}

{%- set _checklist -%}
	${selectedChecklist}
{%- endset -%}

{%- set _closingStatement -%}
    ${closingStatement}
{%- endset -%}

{#- Main email starts here -#}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">
	<head>
		<!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]-->
		<title>You have received an award</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />
		<style type="text/css">
			a{outline:none;color:#000;text-decoration:underline;}
			a:hover{text-decoration:none!important;}
			.h-u a{text-decoration:none;}
			.h-u a:hover{text-decoration:underline!important;}
			a[x-apple-data-detectors]{color:inherit!important; text-decoration:none!important;}
			a[href^="tel"]:hover{text-decoration:none!important;}
			.active-i a:hover,
			.active-t:hover{opacity:0.8;}
			.active-i a,
			.active-t{transition:all 0.3s ease;}
			a img{border:none;}
			b, strong{font-weight:700;}
			p{margin:0;}
			th{padding:0;}
			table td{mso-line-height-rule:exactly;}
			.ns span, .ns a{color:inherit!important; text-decoration:none!important; border:none!important;}
			.l-fff a{color:#fff;}
			[style*="Montserrat"]{font-family:Montserrat, Arial, Helvetica, sans-serif !important;}
			@media only screen and (max-width:617px) {
				.w-100p{width:100%!important;}
				.tflex{display:block!important;width:100%!important;}
				.ta-c{text-align:center!important;}
				.hm{display:none!important;width:0!important;height:0!important;padding:0!important;font-size:0!important;line-height:0!important;}
				.w-a{width:auto!important;}
				.h-a{height:auto!important;}
				.w-15{width:15px!important;}
				.plr-15{padding-left:15px!important;padding-right:15px!important;}
				.ptb-40{padding-top:40px!important;padding-bottom:40px!important;}
				.pt-15p{padding-top:15%!important;}
				.pb-10p{padding-bottom:10%!important;}
				.pb-15p{padding-bottom:15%!important;}
				.fs-28{font-size:28px!important;}
			}
			@media (prefers-dark-interface) {body{-apple-color-filter:none;}}
		</style>
	</head>
	<body style="background:#fff; margin:0; padding:0; -webkit-text-size-adjust:100%; -ms-text-size-adjust:100%;">
		<table width="100%" style="background:#fff; min-width:320px;" cellspacing="0" cellpadding="0">
			<tr>
				<td>
					<table class="w-100p" width="600" align="center" style="background:#fffffe; max-width:600px;" cellpadding="0" cellspacing="0">
						<tr>
							<td bgcolor="#014173" background="cid:bg-01.png" style="background-image:url(cid:bg-01.png); background-repeat:no-repeat; background-position:center bottom; background-size:100% 100%;">
								<!--[if gte mso 9]>
									<v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="width:600px; height:334px;">
										<v:fill type="frame" src="cid:bg-01.png" color="#014173" />
										<v:textbox style="padding-top:0; padding-right:0; padding-bottom:0; padding-left:0;">
											<![endif]-->
												<table width="100%" cellpadding="0" cellspacing="0">
													<tr>
														<td class="hm" width="20" height="334"></td>
														<td class="plr-15" valign="top">
															<table width="100%" cellpadding="0" cellspacing="0">
																<tr>
																	<td class="pt-15p pb-15p" style="padding:72px 0 70px;">
																		<table width="100%" cellpadding="0" cellspacing="0">
																			<tr>
																				<td class="hm" width="18"></td>
																				<td align="center">
																					<a style="text-decoration:none;" href="https://www.kentucky.gov/">
																						<img src="cid:logo-01.png" width="240" style="font:700 14px/22px Arial, Helvetica, sans-serif; color:#fff; vertical-align:top;" alt="Kentucky.gov | Learning & Employment Wallet" />
																					</a>
																				</td>
																			</tr>
																		</table>
																	</td>
																</tr>
																<tr>
																	<td class="pb-10p fs-28" align="center" style="padding:0 0 20px; font:300 36px/40px Arial, Helvetica, sans-serif, Montserrat; color:#fff;">
																		{{ _salutation|default('') }}
																	</td>
																</tr>
															</table>
														</td>
														<td class="hm" width="20"></td>
													</tr>
												</table>
											<!--[if gte mso 9]>
										</v:textbox>
									</v:rect>
								<![endif]-->
							</td>
						</tr>
						<tr>
							<td bgcolor="#F4FBFF" background="cid:bg-02.png" style="background-image:url(cid:bg-02.png); background-repeat:no-repeat; background-position:center top; background-size:100% 100%;">
								<!--[if gte mso 9]>
									<v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="width:600px; height:333px;">
										<v:fill type="frame" src="cid:bg-02.png" color="#F4FBFF" />
										<v:textbox style="padding-top:0; padding-right:0; padding-bottom:0; padding-left:0;">
											<![endif]-->
												<table width="100%" cellpadding="0" cellspacing="0">
													<tr>
														<td class="hm" width="52" height="333"></td>
														<td class="plr-15" valign="top">
															<table width="100%" cellpadding="0" cellspacing="0">
																<tr>
																	<td class="h-a" height="333" style="background:#fffffe; border-radius:20px; position:relative; box-shadow:6px 7px 16px rgba(27, 53, 71, 0.1);">
																		<table width="100%" cellpadding="0" cellspacing="0">
																			<tr>
																				<td class="w-15" width="64"></td>
																				<td>
																					<table width="100%" cellpadding="0" cellspacing="0">
																						<tr>
																							<td align="center" style="padding:26px 0 18px; font:700 19px/33px Arial, Helvetica, sans-serif, Montserrat; color:#1B3547;">
																								{{ _badgeName|default('') }}
																							</td>
																						</tr>
																						<tr>
																							<td align="center" style="">
																								{{ _badgeAwardNarrative|default('') }}
																							</td>
																						</tr>
																						<tr>
																							<td align="center" style="padding: 18px 0;">
																								{{ _badgeImage|default('') }}
																							</td>
																						</tr>
																						{{ _progressBar|default('') }}
																					</table>
																				</td>
																				<td class="w-15" width="64"></td>
																			</tr>
																		</table>
																	</td>
																</tr>
															</table>
														</td>
														<td class="hm" width="52"></td>
													</tr>
												</table>
											<!--[if gte mso 9]>
										</v:textbox>
									</v:rect>
								<![endif]-->
							</td>
						</tr>
						<tr>
							<td class="ptb-40 plr-15" style="padding:55px 116px 65px; background:#F4FBFF;">
								<table class="w-a" width="100%" align="center" cellpadding="0" cellspacing="0">
									<tr>
										<td align="center" style="padding:0 0 29px; font:700 18px/24px Arial, Helvetica, sans-serif, Montserrat; color:#1B3547;">
											{{ _checklistNarrative|default('') }}
										</td>
									</tr>
									<tr>
										<td>
											<table width="100%" cellpadding="0" cellspacing="0">
												{{ _checklist|default('') }}
											</table>
										</td>
									</tr>
									<tr>
										<td align="center" style="padding:20px 0 29px; font:700 14px/20px Arial, Helvetica, sans-serif, Montserrat; color:#1B3547;">
											{{ _closingStatement|default('') }}
										</td>
									</tr>
								</table>
							</td>
						</tr>
						<!-- buttons -->
						<tr>
							<td style="padding:0 15px 47px; background:#F4FBFF;">
								<table align="center" cellpadding="0" cellspacing="0">
									<tr>
										<th class="tflex" width="128" align="left" style="vertical-align:top;"></th>
										<th class="tflex" width="234" align="left" style="vertical-align:top;">
											<table width="234" align="center" cellpadding="0" cellspacing="0">
												<tr>
													<td class="active-t" align="center" style="background:#4B84B7; mso-padding-alt:11px 8px; font:700 20px/22px Arial, Helvetica, sans-serif, Montserrat; border-radius:8px;">
														<a style="color:#fff; text-decoration:none; display:block; padding:11px 8px;" href="https://ky-ler-qa.randasolutions.com/access/setup?email={{ subject.email |e('url') }}">Login to Wallet to accept badge</a>
													</td>
												</tr>
											</table>
										</th>
										<th class="tflex" width="128" height="22"></th>
									</tr>
								</table>
							</td>
						</tr>
						<!-- footer -->
						<tr>
							<td class="plr-15" style="padding:21px 52px 21px 50px;">
								<table width="100%" cellpadding="0" cellspacing="0">
									<tr>
										<th class="tflex" width="240" align="left" style="vertical-align:top;">
											<table width="100%" cellpadding="0" cellspacing="0">
												<tr>
													<td align="left" class="ta-c" style="vertical-align:middle;">
														<img src="cid:logo-02.png" width="42" style="vertical-align:top;" alt="KY stats" />
														<span style="font:12px/14px Arial, Helvetica, sans-serif, Montserrat; color:#1B3547;line-height:42px;">Powered by PCG and Level Data</span>
													</td>
												</tr>
											</table>
										</th>
										<th class="tflex" width="20" height="15"></th>
										<th class="tflex" align="left">
											<table width="100%" cellpadding="0" cellspacing="0">
												<tr>
													<td class="ta-c" align="right" style="font:12px/14px Arial, Helvetica, sans-serif, Montserrat; color:#1B3547;">
														© 2025 Learning & Employment Wallet
													</td>
												</tr>
											</table>
										</th>
									</tr>
								</table>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
				<td class="hm" style="line-height:0;"><div style="white-space:nowrap; font:15px/0 courier;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div></td>
			</tr>
		</table>
	</body>
</html>
{#- Main email ends here -#}

{%- macro achievementLine(title, link = '', checked = true) -%}
	<tr>
		<td width="34" valign="top" style="padding:0 0 10px;">
			<img src="{% if checked %}cid:ico-01.png{% else %}cid:ico-02.png{% endif %}" width="34" style="vertical-align:top;" alt="{% if checked %}x{% else %} {% endif %}" />
		</td>
		<td width="8" style="padding:0 0 10px;"></td>
		<td valign="top" style="padding:0 0 10px; font:16px/21px Arial, Helvetica, sans-serif, Montserrat; color:#1B3547;">
			<p style="margin:5px 0 0;">
				{% if link %}<a href="{{ link }}">{% endif -%}
				{{ title }}
				{%- if link %}</a>{% endif %}
			</p>
		</td>
	</tr>
{%- endmacro achievementLine -%}

{%- macro progressBar(text, amount = 1) -%}
	<tr>
		<td style="padding:0 0 4px;">
			<table width="100%" style="background:#DBE3ED; border-radius:8px; overflow:hidden;" cellpadding="0" cellspacing="0">
				<tr>
					<td>
						<!-- green line percentage -->
						<table width="{{ amount }}%" style="background:#99CC66;" cellpadding="0" cellspacing="0">
							<tr>
								<td height="27" style="font-size:1px; line-height:1px;">&nbsp;</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td align="center" style="padding:0 0 20px; font:700 16px/33px Arial, Helvetica, sans-serif, Montserrat; color:#99CC66;">
			{{ text }}
		</td>
	</tr>
{%- endmacro progressBar -%}


            `;

            document.getElementById("twigOutput").textContent = twigTemplate;
        }

        function copyToClipboard() {
            const twigOutput = document.getElementById("twigOutput");
            const textArea = document.createElement("textarea");
            textArea.value = twigOutput.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("copy");
            document.body.removeChild(textArea);
            alert("TWIG code copied to clipboard!");
        }
    </script>
</body>
</html>
